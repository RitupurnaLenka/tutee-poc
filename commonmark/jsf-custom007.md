[Go to primary content](#BEGIN)

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Java Platform, Enterprise Edition The Java EE Tutorial</strong><br />
<strong>Release 7 Java Platform, Enterprise Edition</strong><br />
E39031-02</td>
<td><table>
<tbody>
<tr class="odd">
<td> </td>
<td><a href="toc.htm"><img src="../../dcommon/gifs/toc.gif" alt="Go To Table Of Contents" /><br />
<span class="icon">Contents</span></a></td>
</tr>
</tbody>
</table></td>
</tr>
</tbody>
</table>

-----

<table>
<tbody>
<tr class="odd">
<td><a href="jsf-custom006.htm"><img src="../../dcommon/gifs/leftnav.gif" alt="Previous" /><br />
<span class="icon">Previous</span></a> </td>
<td><a href="jsf-custom008.htm"><img src="../../dcommon/gifs/rightnav.gif" alt="Next" /><br />
<span class="icon">Next</span></a></td>
<td> </td>
</tr>
</tbody>
</table>

Beta Draft: 2017-06-12

# 15.7 Implementing an Event Listener

The JavaServer Faces technology supports action events and value-change
events for components.

Action events occur when the user activates a component that implements
`javax.faces.component.ActionSource`. These events are represented by
the class `javax.faces.event.ActionEvent`.

Value-change events occur when the user changes the value of a component
that implements `javax.faces.component.EditableValueHolder`. These
events are represented by the class
`javax.faces.event.ValueChangeEvent`.

One way to handle events is to implement the appropriate listener
classes. Listener classes that handle the action events in an
application must implement the interface
`javax.faces.event.ActionListener`. Similarly, listeners that handle the
value-change events must implement the interface
`javax.faces.event.ValueChangeListener`.

This section explains how to implement the two listener classes.

To handle events generated by custom components, you must implement an
event listener and an event handler and manually queue the event on the
component. See [Handling Events for Custom
Components](jsf-custom008.htm#BNAWD) for more information.

  

<table>
<colgroup>
<col width="100%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p>Note:</p>
You do not need to create an <code dir="ltr">ActionListener</code> implementation to handle an event that results solely in navigating to a page and does not perform any other application-specific processing. See <a href="jsf-develop003.htm#BNAVC">Writing a Method to Handle Navigation</a> for information on how to manage page navigation.</td>
</tr>
</tbody>
</table>

  

## 15.7.1 Implementing Value-Change Listeners

A `javax.faces.event.ValueChangeListener` implementation must include a
`processValueChange(ValueChangeEvent)` method. This method processes the
specified value-change event and is invoked by the JavaServer Faces
implementation when the value-change event occurs. The
`ValueChangeEvent` instance stores the old and the new values of the
component that fired the event.

In the Duke's Bookstore case study, the `NameChanged` listener
implementation is registered on the `name` `UIInput` component on the
`bookcashier.xhtml` page. This listener stores into session scope the
name the user entered in the field corresponding to the name component.

The `bookreceipt.xhtml` subsequently retrieves the name from the session
scope:

``` oac_no_warn
<h:outputFormat title="thanks"
                value="#{bundle.ThankYouParam}">
    <f:param value="#{sessionScope.name}"/>
</h:outputFormat>
```

When the `bookreceipt.xhtml` page is loaded, it displays the name inside
the message:

``` oac_no_warn
"Thank you, {0}, for purchasing your books from us."
```

Here is part of the `NameChanged` listener implementation:

``` oac_no_warn
public class NameChanged extends Object implements ValueChangeListener {

    @Override
    public void processValueChange(ValueChangeEvent event)
            throws AbortProcessingException {
    
        if (null != event.getNewValue()) {
            FacesContext.getCurrentInstance().getExternalContext().
                getSessionMap().put("name", event.getNewValue());
        }
    }
}
```

When the user enters the name in the field, a value-change event is
generated, and the `processValueChange(ValueChangeEvent)` method of the
`NameChanged` listener implementation is invoked. This method first gets
the ID of the component that fired the event from the `ValueChangeEvent`
object, and it puts the value, along with an attribute name, into the
session map of the `FacesContext` instance.

[Registering a Value-Change Listener on a
Component](jsf-page-core002.htm#BNATA) explains how to register this
listener onto a component.

## 15.7.2 Implementing Action Listeners

A `javax.faces.event.ActionListener` implementation must include a
`processAction(ActionEvent)` method. The `processAction(ActionEvent)`
method processes the specified action event. The JavaServer Faces
implementation invokes the `processAction(ActionEvent)` method when the
`ActionEvent` occurs.

The Duke's Bookstore case study uses two `ActionListener`
implementations, `LinkBookChangeListener` and `MapBookChangeListener`.
See [Handling Events for Custom Components](jsf-custom008.htm#BNAWD) for
details on `MapBookChangeListener`.

[Registering an Action Listener on a
Component](jsf-page-core002.htm#BNATB) explains how to register this
listener onto a component.

-----

<table style="width:66%;">
<colgroup>
<col width="33%" />
<col width="0%" />
<col width="33%" />
</colgroup>
<tbody>
<tr class="odd">
<td><table style="width:96%;">
<colgroup>
<col width="0%" />
<col width="48%" />
<col width="48%" />
</colgroup>
<tbody>
<tr class="odd">
<td> </td>
<td><a href="jsf-custom006.htm"><img src="../../dcommon/gifs/leftnav.gif" alt="Previous" /><br />
<span class="icon">Previous</span></a> </td>
<td><a href="jsf-custom008.htm"><img src="../../dcommon/gifs/rightnav.gif" alt="Next" /><br />
<span class="icon">Next</span></a></td>
</tr>
</tbody>
</table></td>
<td><img src="../../dcommon/gifs/oracle.gif" alt="Oracle Logo" class="copyrightlogo" /> <a href="../../dcommon/html/cpyr.htm"><br />
<span class="copyrightlogo">Copyright © 2014, Oracle and/or its affiliates. All rights reserved.</span></a></td>
<td><table>
<tbody>
<tr class="odd">
<td> </td>
<td><a href="toc.htm"><img src="../../dcommon/gifs/toc.gif" alt="Go To Table Of Contents" /><br />
<span class="icon">Contents</span></a></td>
</tr>
</tbody>
</table></td>
</tr>
</tbody>
</table>

ORACLE CONFIDENTIAL. For authorized use only. Do not distribute to third parties.
